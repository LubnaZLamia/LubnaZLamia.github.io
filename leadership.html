<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Co-Curricular & Leadership Activities — Lubna Zahan Lamia</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    .slideshow-container {
      max-width: 700px;
      position: relative;
      margin: 40px auto;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
      background: var(--panel);
    }
    .slide { display: none; width: 100%; }
    .slide img { width: 100%; height: auto; display: block; }

    /* Navigation buttons */
    .prev, .next {
      cursor: pointer;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 10px 14px;
      color: #fff;
      font-weight: bold;
      font-size: 18px;
      user-select: none;
      background: rgba(0,0,0,0.4);
      border-radius: 8px;
      transition: background .25s ease;
    }
    .prev { left: 8px; }
    .next { right: 8px; }
    .prev:hover, .next:hover { background: rgba(0,0,0,0.7); }

    /* Fading animation */
    .fade { animation: fadeEffect .45s ease-in; }
    @keyframes fadeEffect { from {opacity: .4} to {opacity: 1} }
  </style>
</head>
<body>
  <nav class="navbar">
    <div class="container nav-inner">
      <div class="logo"><a href="index.html">LZL</a></div>
      <ul class="nav-links">
        <li><a href="index.html#about">About</a></li>
        <li><a href="index.html#interests">Research Interest</a></li>
        <li><a href="index.html#education">Education</a></li>
        <li><a href="index.html#publications">Publications</a></li>
        <li><a href="index.html#awards">Awards</a></li>
        <li><a class="contact-btn" href="index.html#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <header class="page-hero">
    <div class="container">
      <h1>Co-Curricular & Leadership Activities</h1>
      <p>
        I have taken part in several departmental and university events that helped me develop
        teamwork, coordination, and communication skills alongside my academic studies.
      </p>
      <p><a class="inline-btn" href="index.html">← Back to Home</a></p>
    </div>
    <div class="mast-bg" aria-hidden="true"></div>
  </header>

  <main class="container page-content">
    <ul class="about-highlights">
      <li>
        <strong>Event Organization — Department of Computer Science & Engineering, University of Dhaka</strong><br>
        Assisted in planning and coordinating departmental programs such as <em>Graduation Week 2024</em>,
        supporting scheduling, registration, and on-site arrangements.
      </li>

      <li>
        <strong>Anchoring & Hosting — University of Dhaka</strong><br>
        Served as host/moderator for events including <em>Freshers’ Reception, Movie Night, Graduation Ceremony,</em>
        and the <em>CAIL LLM Workshop</em>, facilitating sessions and maintaining event flow.
      </li>
    </ul>

    <!-- Slideshow (images built by JS) -->
    <div class="slideshow-container" id="activities-slideshow" data-prefix="extra" data-count="3">
      <!-- Slides injected by JS -->
      <a class="prev" aria-label="Previous image" onclick="changeSlide(-1)">&#10094;</a>
      <a class="next" aria-label="Next image" onclick="changeSlide(1)">&#10095;</a>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <small>© <span id="year"></span> Lubna Zahan Lamia</small>
    </div>
  </footer>

  <script>
    // --- Config: detect file extension among jpg/jpeg/png (case-insensitive) ---
    const EXT_OPTIONS = ["jpg","jpeg","png","JPG","JPEG","PNG"];
    const galleryExt = new Map(); // containerId -> ext

    function buildUrl(prefix, index, ext) {
      return `${prefix}${index}.${ext}`;
    }

    function tryImage(url) {
      return new Promise(resolve => {
        const img = new Image();
        img.onload = () => resolve(true);
        img.onerror = () => resolve(false);
        img.src = url;
      });
    }

    async function detectExt(containerId, prefix, index = 1) {
      if (galleryExt.has(containerId)) return galleryExt.get(containerId);
      for (const ext of EXT_OPTIONS) {
        if (await tryImage(buildUrl(prefix, index, ext))) {
          galleryExt.set(containerId, ext);
          return ext;
        }
      }
      // Fallback to jpg if nothing matched (prevents total break)
      galleryExt.set(containerId, "jpg");
      return "jpg";
    }

    function preloadAll(prefix, count, ext) {
      const head = document.head;
      for (let i = 1; i <= count; i++) {
        const url = buildUrl(prefix, i, ext);
        const link = document.createElement("link");
        link.rel = "preload";
        link.as = "image";
        link.href = url;
        head.appendChild(link);

        // Push to cache too
        const img = new Image();
        img.decoding = "async";
        img.src = url;
      }
    }

    // --- Slideshow state ---
    let slideIndex = 1;

    function showSlides(n) {
      const container = document.getElementById("activities-slideshow");
      const slides = container.getElementsByClassName("slide");
      const total = slides.length;

      if (total === 0) return;
      if (n > total) slideIndex = 1;
      if (n < 1) slideIndex = total;

      for (let i = 0; i < total; i++) slides[i].style.display = "none";
      slides[slideIndex - 1].style.display = "block";
    }

    function changeSlide(n) {
      showSlides(slideIndex += n);
    }

    // --- Build slides dynamically, detect ext, and preload all images ---
    async function initSlideshow() {
      const container = document.getElementById("activities-slideshow");
      const prefix = container.dataset.prefix;   // e.g., "extra"
      const count  = parseInt(container.dataset.count, 10); // e.g., 3

      // 1) Detect extension using image #1
      const ext = await detectExt(container.id, prefix, 1);

      // 2) Preload every image
      preloadAll(prefix, count, ext);

      // 3) Build slides (first eager)
      for (let i = 1; i <= count; i++) {
        const slide = document.createElement("div");
        slide.className = "slide fade";
        const img = document.createElement("img");
        img.alt = `${prefix} ${i}`;
        img.src = buildUrl(prefix, i, ext);
        if (i === 1) {
          img.loading = "eager";
          img.setAttribute("fetchpriority", "high");
        } else {
          img.decoding = "async";
        }
        slide.appendChild(img);
        container.insertBefore(slide, container.querySelector(".prev"));
      }

      // 4) Show first slide
      slideIndex = 1;
      showSlides(slideIndex);
    }

    // Boot
    window.addEventListener("DOMContentLoaded", () => {
      initSlideshow();
    });

    // Footer year
    window.addEventListener("load", () => {
      const y = document.getElementById("year");
      if (y) y.textContent = new Date().getFullYear();
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hobbies & Creative Work — Lubna Zahan Lamia</title>
  <link rel="stylesheet" href="styles.css" />

  <style>
    .slideshow-container {
      max-width: 800px;
      margin: 30px auto;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      background: var(--panel);
    }
    .slide { display: none; width: 100%; }
    .slide img { width: 100%; height: auto; display: block; }

    h2 { margin-top: 40px; }

    .prev, .next {
      cursor: pointer;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      padding: 10px 14px;
      color: #fff;
      font-weight: 700;
      font-size: 18px;
      background: rgba(0,0,0,0.45);
      border-radius: 8px;
      user-select: none;
      transition: background .2s ease;
    }
    .prev { left: 10px; }
    .next { right: 10px; }
    .prev:hover, .next:hover { background: rgba(0,0,0,0.7); }

    .dots { text-align: center; padding: 10px 0 12px; }
    .dot {
      display: inline-block;
      width: 8px; height: 8px;
      border-radius: 50%;
      margin: 0 4px;
      background: rgba(0,0,0,0.2);
      cursor: pointer;
    }
    .dot.active { background: rgba(0,0,0,0.55); }

    @media (prefers-color-scheme: dark){
      .dot { background: rgba(255,255,255,0.2); }
      .dot.active { background: rgba(255,255,255,0.7); }
    }

    .fade { animation: fadeEffect 350ms ease-in; }
    @keyframes fadeEffect { from {opacity: .4} to {opacity: 1} }
  </style>

  <!-- Early detector for preloading -->
  <script>
    (function(){
      const EXT = ["jpg","jpeg","png","JPG","JPEG","PNG"];
      const firsts = [
        ["painting-slideshow","paint",1],
        ["travel-slideshow","travel",1],
        ["cooking-slideshow","cook",1]
      ];
      window.__firstSrc = {};
      window.__firstExt = {};

      function preload(url){
        const l = document.createElement("link");
        l.rel = "preload"; l.as = "image"; l.href = url;
        document.head.appendChild(l);
        const im = new Image(); im.decoding = "async"; im.src = url;
      }

      function pickFor(prefix, idx, key){
        let i = 0;
        (function tryNext(){
          if (i >= EXT.length) return;
          const ext = EXT[i++];
          const url = `${prefix}${idx}.${ext}`;
          const probe = new Image();
          probe.onload = function(){
            window.__firstSrc[key] = url;
            window.__firstExt[key] = ext;
            preload(url);
          };
          probe.onerror = tryNext;
          probe.src = url;
        })();
      }
      firsts.forEach(([id,prefix,idx]) => pickFor(prefix, idx, id));
    })();
  </script>
</head>
<body>
  <nav class="navbar">
    <div class="container nav-inner">
      <div class="logo"><a href="index.html">LZL</a></div>
      <ul class="nav-links">
        <li><a href="index.html#about">About</a></li>
        <li><a href="index.html#interests">Research Interest</a></li>
        <li><a href="index.html#education">Education</a></li>
        <li><a href="index.html#publications">Publications</a></li>
        <li><a href="index.html#awards">Awards</a></li>
        <li><a class="contact-btn" href="index.html#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <header class="page-hero">
    <div class="container">
      <h1>Hobbies & Creative Work</h1>
      <p>
        Beyond research, I find joy in quiet creative moments — painting, traveling, and cooking.  
        These pursuits bring a sense of calm and perspective, often reminding me how inspiration and balance  
        come from noticing small details, colors, and cultures around us.
      </p>
      <p><a class="inline-btn" href="index.html">← Back to Home</a></p>
    </div>
    <div class="mast-bg" aria-hidden="true"></div>
  </header>

  <main class="container page-content">

    <!-- Painting -->
    <h2>Painting</h2>
    <p>Painting is where I slow down and rediscover stillness — a space to think, observe, and translate emotion into color.</p>
    <div class="slideshow-container" id="painting-slideshow" data-prefix="paint" data-count="20">
      <div class="slide fade" style="display:block">
        <img id="paint-first-img" alt="paint 1" loading="eager" fetchpriority="high">
        <script>
        (function attachFirst(containerId, imgId, prefix){
          const EXT=["jpg","jpeg","png","JPG","JPEG","PNG"];
          const img=document.getElementById(imgId);
          (function waitForEarlyPick(){
            const pick=(window.__firstSrc||{})[containerId];
            if (pick){ img.src=pick; return; }
            let i=0;
            (function probe(){
              if (img.src) return;
              if (i>=EXT.length){ img.src=prefix+"1.jpg"; return; }
              const ext=EXT[i++], url=prefix+"1."+ext, test=new Image();
              test.onload=function(){ if(!img.src) img.src=url; };
              test.onerror=probe;
              test.src=url;
            })();
          })();
        })("painting-slideshow","paint-first-img","paint");
        </script>
      </div>
      <a class="prev" onclick="plusSlides('painting-slideshow', -1)">&#10094;</a>
      <a class="next" onclick="plusSlides('painting-slideshow', 1)">&#10095;</a>
      <div class="dots"></div>
    </div>

    <!-- Travel -->
    <h2>Travel</h2>
    <p>Traveling gives me perspective — each place offers new colors, textures, and stories.</p>
    <div class="slideshow-container" id="travel-slideshow" data-prefix="travel" data-count="13">
      <div class="slide fade" style="display:block">
        <img id="travel-first-img" alt="travel 1" loading="eager" fetchpriority="high">
        <script>
        (function attachFirst(containerId, imgId, prefix){
          const EXT=["jpg","jpeg","png","JPG","JPEG","PNG"];
          const img=document.getElementById(imgId);
          (function waitForEarlyPick(){
            const pick=(window.__firstSrc||{})[containerId];
            if (pick){ img.src=pick; return; }
            let i=0;
            (function probe(){
              if (img.src) return;
              if (i>=EXT.length){ img.src=prefix+"1.jpg"; return; }
              const ext=EXT[i++], url=prefix+"1."+ext, test=new Image();
              test.onload=function(){ if(!img.src) img.src=url; };
              test.onerror=probe;
              test.src=url;
            })();
          })();
        })("travel-slideshow","travel-first-img","travel");
        </script>
      </div>
      <a class="prev" onclick="plusSlides('travel-slideshow', -1)">&#10094;</a>
      <a class="next" onclick="plusSlides('travel-slideshow', 1)">&#10095;</a>
      <div class="dots"></div>
    </div>

    <!-- Cooking -->
    <h2>Cooking</h2>
    <p>Cooking is a soft experiment in rhythm and care — my favorite way to unwind and share warmth with family and friends.</p>
    <div class="slideshow-container" id="cooking-slideshow" data-prefix="cook" data-count="4">
      <div class="slide fade" style="display:block">
        <img id="cook-first-img" alt="cook 1" loading="eager" fetchpriority="high">
        <script>
        (function attachFirst(containerId, imgId, prefix){
          const EXT=["jpg","jpeg","png","JPG","JPEG","PNG"];
          const img=document.getElementById(imgId);
          (function waitForEarlyPick(){
            const pick=(window.__firstSrc||{})[containerId];
            if (pick){ img.src=pick; return; }
            let i=0;
            (function probe(){
              if (img.src) return;
              if (i>=EXT.length){ img.src=prefix+"1.jpg"; return; }
              const ext=EXT[i++], url=prefix+"1."+ext, test=new Image();
              test.onload=function(){ if(!img.src) img.src=url; };
              test.onerror=probe;
              test.src=url;
            })();
          })();
        })("cooking-slideshow","cook-first-img","cook");
        </script>
      </div>
      <a class="prev" onclick="plusSlides('cooking-slideshow', -1)">&#10094;</a>
      <a class="next" onclick="plusSlides('cooking-slideshow', 1)">&#10095;</a>
      <div class="dots"></div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <small>© <span id="year"></span> Lubna Zahan Lamia</small>
    </div>
  </footer>

  <script>
    const EXT_OPTIONS = ["jpg","jpeg","png","JPG","JPEG","PNG"];
    const galleryExt = new Map();
    function buildUrl(prefix, i, ext){ return `${prefix}${i}.${ext}`; }
    function tryImage(url){ return new Promise(r=>{ const im=new Image(); im.onload=()=>r(true); im.onerror=()=>r(false); im.src=url; }); }
    async function detectExt(containerId, prefix, index=1){
      const firstExt=(window.__firstExt||{})[containerId];
      if (firstExt && index===1){ galleryExt.set(containerId,firstExt); return firstExt; }
      if (galleryExt.has(containerId)) return galleryExt.get(containerId);
      for (const ext of EXT_OPTIONS){
        if (await tryImage(buildUrl(prefix,index,ext))){
          galleryExt.set(containerId,ext);
          return ext;
        }
      }
      galleryExt.set(containerId,"jpg");
      return "jpg";
    }
    function preloadAllImages(prefix,count,ext){
      const head=document.head;
      for(let i=1;i<=count;i++){
        const url=buildUrl(prefix,i,ext);
        const link=document.createElement("link");
        link.rel="preload"; link.as="image"; link.href=url;
        head.appendChild(link);
        const im=new Image(); im.decoding="async"; im.src=url;
      }
    }
    async function buildSlideshow(containerId){
      const el=document.getElementById(containerId);
      const prefix=el.dataset.prefix;
      const count=parseInt(el.dataset.count,10);
      const ext=await detectExt(containerId,prefix,1);
      preloadAllImages(prefix,count,ext);
      for(let i=2;i<=count;i++){
        const slide=document.createElement("div");
        slide.className="slide fade";
        const img=document.createElement("img");
        img.alt=`${prefix} ${i}`;
        img.src=buildUrl(prefix,i,ext);
        img.decoding="async";
        slide.appendChild(img);
        el.insertBefore(slide,el.querySelector(".prev"));
      }
      const dotsWrapper=el.querySelector(".dots");
      for(let i=1;i<=count;i++){
        const dot=document.createElement("span");
        dot.className="dot";
        dot.onclick=()=>currentSlide(containerId,i);
        dotsWrapper.appendChild(dot);
      }
      el.dataset.index="1";
      showSlides(containerId,1);
    }
    function plusSlides(containerId,n){
      const el=document.getElementById(containerId);
      const idx=parseInt(el.dataset.index||"1",10);
      showSlides(containerId,idx+n);
    }
    function currentSlide(containerId,n){ showSlides(containerId,n); }
    function showSlides(containerId,n){
      const el=document.getElementById(containerId);
      const slides=el.querySelectorAll(".slide");
      const dots=el.querySelectorAll(".dot");
      const total=slides.length;
      if(!total) return;
      if(n>total) n=1; if(n<1) n=total;
      slides.forEach(s=>s.style.display="none");
      dots.forEach(d=>d.classList.remove("active"));
      slides[n-1].style.display="block";
      if(dots[n-1]) dots[n-1].classList.add("active");
      el.dataset.index=String(n);
    }
    window.addEventListener("DOMContentLoaded",async()=>{
      await buildSlideshow("painting-slideshow");
      await buildSlideshow("travel-slideshow");
      await buildSlideshow("cooking-slideshow");
    });
    window.addEventListener("load",()=>{
      const y=document.getElementById("year");
      if(y) y.textContent=new Date().getFullYear();
    });
  </script>
</body>
</html>
